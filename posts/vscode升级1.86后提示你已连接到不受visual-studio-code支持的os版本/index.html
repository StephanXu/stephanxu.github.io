<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>VSCodeå‡çº§18.6åæç¤ºâ€œä½ å·²è¿æ¥åˆ°ä¸å—Visual Studio Codeæ”¯æŒçš„OSç‰ˆæœ¬ - Stephan Xu</title><meta name=Description content><meta property="og:title" content="VSCodeå‡çº§18.6åæç¤ºâ€œä½ å·²è¿æ¥åˆ°ä¸å—Visual Studio Codeæ”¯æŒçš„OSç‰ˆæœ¬"><meta property="og:description" content="å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ åœ¨VSCodeæœ€è¿‘çš„ä¸€æ¬¡æ›´æ–°ä¸­ï¼Œæå‡è¿œç¨‹å¼€å‘ä½¿ç”¨çš„nodeç‰ˆæœ¬ï¼Œæ›´æ–°åçš„nodeä¾èµ–glibc>=2.28ã€‚
åœ¨å‡çº§1.86ç‰ˆæœ¬åï¼Œå¦‚æœå°è¯•è¿æ¥glibc 2.28ä»¥ä¸‹ç‰ˆæœ¬çš„å¼€å‘æœºï¼Œä¼šæç¤ºè¿æ¥åˆ°ä¸å—æ”¯æŒçš„OSç‰ˆæœ¬ã€‚
æŒ‰ç…§å®˜æ–¹çš„è¦æ±‚ã€‚æœ€å¥½çš„è§£å†³æ–¹æ¡ˆè‡ªç„¶æ˜¯å‡çº§åˆ°æ›´æ–°çš„glibcç‰ˆæœ¬ï¼Œè¿™ä¹Ÿæ„å‘³ç€éœ€è¦ä½¿ç”¨æ›´æ–°çš„ç³»ç»Ÿç‰ˆæœ¬ã€‚åœ¨ç¤¾åŒºçš„çƒ­çƒˆè®¨è®ºä¸‹ï¼ŒVSCodeé¡¹ç›®ç»„æœ€ç»ˆå¯¹äºæ—§glibcå»¶é•¿é¢å¤–æ”¯æŒ12ä¸ªæœˆã€‚ä½†æ–°ç‰ˆæœ¬è¿æ¥åˆ°æ—§glibcæœåŠ¡å™¨åï¼Œä»ç„¶ä¼šæœ‰ä¸€è¡Œé†’ç›®çš„æç¤ºï¼š
æœ¬æ–‡æä¾›ä¸€ç§æç«¯æ‰‹åŠ¨çš„æ–¹æ³•ï¼ˆæœ¬æ¥æ˜¯ç»™å¼€å‘ç¯å¢ƒçš„dockerfileä½¿ç”¨ï¼‰ï¼Œå³æ‰‹åŠ¨ç¼–è¯‘ä¸€ä»½glibcå’Œnodeï¼Œä»¥ä¸“ä¾›VSCodeçš„è¿œç«¯æœåŠ¡å™¨ä½¿ç”¨ã€‚
å¼€æ 1. ä»ç¼–è¯‘å™¨è¯´èµ· (å¯é€‰) ä»æ–‡æ¡£æ¥çœ‹ï¼Œnodeç°åœ¨å·²ç»è¦æ±‚åˆ°äº†GCC 10ï¼Œæˆ‘ä»¬çš„ç¯å¢ƒå¾ˆæœ‰å¯èƒ½æ²¡å‡†å¤‡ã€‚ï¼ˆå¦‚æœä½ çš„ç¯å¢ƒå·²ç»æœ‰ä¸€ä»½æ¯”è¾ƒé«˜ç‰ˆæœ¬çš„ç¼–è¯‘å™¨ï¼Œå¯ä»¥è·³è¿‡è¿™é‡Œå•¦ï¼‰
è¿™é‡Œå‡†å¤‡äº†ä¸€ä»½è´´è´´å¿ƒçš„å®‰è£…è„šæœ¬ï¼Œä»¥é˜²ä½ çœŸçš„æ²¡æœ‰æ›´æ–°çš„GCCã€‚ä¸ºäº†é¿å…æåä½ çš„ç¯å¢ƒï¼Œå®ƒåªä¼šåœ¨/usr/local/binä¸‹å»ºç«‹gcc-12å’Œg++-12ï¼Œè€Œä¸ä¼šè¦†ç›–æ‰é»˜è®¤çš„gccï¼Œg++å‘½ä»¤ã€‚
# ç¼–è¯‘ä¸€ä»½GCC, å‚è€ƒæ—¶é—´åŠä¸ªé’Ÿ, é…ç½®å¥½çš„æœºå™¨è¯·è‡ªè¡ŒæŒ‰ç…§CPUæ ¸å¿ƒæ•°é…Œæƒ…ä¿®æ”¹make -jN curl -OL &#34;https://ftp.gnu.org/gnu/gcc/gcc-12.2.0/gcc-12.2.0.tar.gz&#34; \ && tar -zxvf gcc-12.2.0.tar.gz \ && pushd gcc-12.2.0 \ && ./configure --prefix=/usr/local/gcc-12.2.0 \ && make -j8 \ && make install \ && ln -s /usr/local/gcc-12.2.0/bin/gcc /usr/bin/gcc-12 \ && ln -s /usr/local/gcc-12.2.0/bin/g++ /usr/bin/g++-12 \ && popd \ && rm -r gcc-12.2.0.tar.gz gcc-12.2.0 ç¼–è¯‘äº†ä»¥åè®°å¾—æŠŠLD_LIBRARY_PATHåŠ ä¸Š:
export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/local/gcc-12.2.0/lib64 2. æ¥ä¸€ä»½Glibc è¿™é‡Œæˆ‘é€‰æ‹©ç¼–è¯‘glibc 2.30ï¼Œglibcéœ€è¦æ›´æ–°ä¸€äº›çš„binutilså’Œmakeï¼Œé‚ç¼–è¯‘ä¹‹ã€‚"><meta property="og:type" content="article"><meta property="og:url" content="http://www.fenzhengrou.wang/posts/vscode%E5%8D%87%E7%BA%A71.86%E5%90%8E%E6%8F%90%E7%A4%BA%E4%BD%A0%E5%B7%B2%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%B8%8D%E5%8F%97visual-studio-code%E6%94%AF%E6%8C%81%E7%9A%84os%E7%89%88%E6%9C%AC/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-02-19T20:00:00+08:00"><meta property="article:modified_time" content="2024-02-19T20:00:00+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="VSCodeå‡çº§18.6åæç¤ºâ€œä½ å·²è¿æ¥åˆ°ä¸å—Visual Studio Codeæ”¯æŒçš„OSç‰ˆæœ¬"><meta name=twitter:description content="å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ åœ¨VSCodeæœ€è¿‘çš„ä¸€æ¬¡æ›´æ–°ä¸­ï¼Œæå‡è¿œç¨‹å¼€å‘ä½¿ç”¨çš„nodeç‰ˆæœ¬ï¼Œæ›´æ–°åçš„nodeä¾èµ–glibc>=2.28ã€‚
åœ¨å‡çº§1.86ç‰ˆæœ¬åï¼Œå¦‚æœå°è¯•è¿æ¥glibc 2.28ä»¥ä¸‹ç‰ˆæœ¬çš„å¼€å‘æœºï¼Œä¼šæç¤ºè¿æ¥åˆ°ä¸å—æ”¯æŒçš„OSç‰ˆæœ¬ã€‚
æŒ‰ç…§å®˜æ–¹çš„è¦æ±‚ã€‚æœ€å¥½çš„è§£å†³æ–¹æ¡ˆè‡ªç„¶æ˜¯å‡çº§åˆ°æ›´æ–°çš„glibcç‰ˆæœ¬ï¼Œè¿™ä¹Ÿæ„å‘³ç€éœ€è¦ä½¿ç”¨æ›´æ–°çš„ç³»ç»Ÿç‰ˆæœ¬ã€‚åœ¨ç¤¾åŒºçš„çƒ­çƒˆè®¨è®ºä¸‹ï¼ŒVSCodeé¡¹ç›®ç»„æœ€ç»ˆå¯¹äºæ—§glibcå»¶é•¿é¢å¤–æ”¯æŒ12ä¸ªæœˆã€‚ä½†æ–°ç‰ˆæœ¬è¿æ¥åˆ°æ—§glibcæœåŠ¡å™¨åï¼Œä»ç„¶ä¼šæœ‰ä¸€è¡Œé†’ç›®çš„æç¤ºï¼š
æœ¬æ–‡æä¾›ä¸€ç§æç«¯æ‰‹åŠ¨çš„æ–¹æ³•ï¼ˆæœ¬æ¥æ˜¯ç»™å¼€å‘ç¯å¢ƒçš„dockerfileä½¿ç”¨ï¼‰ï¼Œå³æ‰‹åŠ¨ç¼–è¯‘ä¸€ä»½glibcå’Œnodeï¼Œä»¥ä¸“ä¾›VSCodeçš„è¿œç«¯æœåŠ¡å™¨ä½¿ç”¨ã€‚
å¼€æ 1. ä»ç¼–è¯‘å™¨è¯´èµ· (å¯é€‰) ä»æ–‡æ¡£æ¥çœ‹ï¼Œnodeç°åœ¨å·²ç»è¦æ±‚åˆ°äº†GCC 10ï¼Œæˆ‘ä»¬çš„ç¯å¢ƒå¾ˆæœ‰å¯èƒ½æ²¡å‡†å¤‡ã€‚ï¼ˆå¦‚æœä½ çš„ç¯å¢ƒå·²ç»æœ‰ä¸€ä»½æ¯”è¾ƒé«˜ç‰ˆæœ¬çš„ç¼–è¯‘å™¨ï¼Œå¯ä»¥è·³è¿‡è¿™é‡Œå•¦ï¼‰
è¿™é‡Œå‡†å¤‡äº†ä¸€ä»½è´´è´´å¿ƒçš„å®‰è£…è„šæœ¬ï¼Œä»¥é˜²ä½ çœŸçš„æ²¡æœ‰æ›´æ–°çš„GCCã€‚ä¸ºäº†é¿å…æåä½ çš„ç¯å¢ƒï¼Œå®ƒåªä¼šåœ¨/usr/local/binä¸‹å»ºç«‹gcc-12å’Œg++-12ï¼Œè€Œä¸ä¼šè¦†ç›–æ‰é»˜è®¤çš„gccï¼Œg++å‘½ä»¤ã€‚
# ç¼–è¯‘ä¸€ä»½GCC, å‚è€ƒæ—¶é—´åŠä¸ªé’Ÿ, é…ç½®å¥½çš„æœºå™¨è¯·è‡ªè¡ŒæŒ‰ç…§CPUæ ¸å¿ƒæ•°é…Œæƒ…ä¿®æ”¹make -jN curl -OL &#34;https://ftp.gnu.org/gnu/gcc/gcc-12.2.0/gcc-12.2.0.tar.gz&#34; \ && tar -zxvf gcc-12.2.0.tar.gz \ && pushd gcc-12.2.0 \ && ./configure --prefix=/usr/local/gcc-12.2.0 \ && make -j8 \ && make install \ && ln -s /usr/local/gcc-12.2.0/bin/gcc /usr/bin/gcc-12 \ && ln -s /usr/local/gcc-12.2.0/bin/g++ /usr/bin/g++-12 \ && popd \ && rm -r gcc-12.2.0.tar.gz gcc-12.2.0 ç¼–è¯‘äº†ä»¥åè®°å¾—æŠŠLD_LIBRARY_PATHåŠ ä¸Š:
export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/local/gcc-12.2.0/lib64 2. æ¥ä¸€ä»½Glibc è¿™é‡Œæˆ‘é€‰æ‹©ç¼–è¯‘glibc 2.30ï¼Œglibcéœ€è¦æ›´æ–°ä¸€äº›çš„binutilså’Œmakeï¼Œé‚ç¼–è¯‘ä¹‹ã€‚"><meta name=application-name content="Stephan Xu"><meta name=apple-mobile-web-app-title content="Stephan Xu"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://www.fenzhengrou.wang/posts/vscode%E5%8D%87%E7%BA%A71.86%E5%90%8E%E6%8F%90%E7%A4%BA%E4%BD%A0%E5%B7%B2%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%B8%8D%E5%8F%97visual-studio-code%E6%94%AF%E6%8C%81%E7%9A%84os%E7%89%88%E6%9C%AC/><link rel=prev href=http://www.fenzhengrou.wang/posts/%E7%BA%A2%E9%BB%91%E6%A0%91%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"VSCodeå‡çº§18.6åæç¤ºâ€œä½ å·²è¿æ¥åˆ°ä¸å—Visual Studio Codeæ”¯æŒçš„OSç‰ˆæœ¬","inLanguage":"zh-cn","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/www.fenzhengrou.wang\/posts\/vscode%E5%8D%87%E7%BA%A71.86%E5%90%8E%E6%8F%90%E7%A4%BA%E4%BD%A0%E5%B7%B2%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%B8%8D%E5%8F%97visual-studio-code%E6%94%AF%E6%8C%81%E7%9A%84os%E7%89%88%E6%9C%AC\/"},"genre":"posts","wordcount":408,"url":"http:\/\/www.fenzhengrou.wang\/posts\/vscode%E5%8D%87%E7%BA%A71.86%E5%90%8E%E6%8F%90%E7%A4%BA%E4%BD%A0%E5%B7%B2%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%B8%8D%E5%8F%97visual-studio-code%E6%94%AF%E6%8C%81%E7%9A%84os%E7%89%88%E6%9C%AC\/","datePublished":"2024-02-19T20:00:00+08:00","dateModified":"2024-02-19T20:00:00+08:00","publisher":{"@type":"Organization","name":"å¾æ¢“æ¶µ"},"author":{"@type":"Person","name":"å¾æ¢“æ¶µ"},"description":""}</script></head><body header-desktop header-mobile><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Stephan Xu">Stephan Xu</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>æ–‡ç«  </a><a class=menu-item href=/tags/>æ ‡ç­¾ </a><a class=menu-item href=/categories/>å½’ç±» </a><a class=menu-item href=/>ä¸»é¡µ </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Stephan Xu">Stephan Xu</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile></a></div><a class=menu-item href=/posts/ title>æ–‡ç« </a><a class=menu-item href=/tags/ title>æ ‡ç­¾</a><a class=menu-item href=/categories/ title>å½’ç±»</a><a class=menu-item href=/ title>ä¸»é¡µ</a><a href=javascript:void(0); class="menu-item theme-switch" title>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title></h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">VSCodeå‡çº§18.6åæç¤ºâ€œä½ å·²è¿æ¥åˆ°ä¸å—Visual Studio Codeæ”¯æŒçš„OSç‰ˆæœ¬</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>å¾æ¢“æ¶µ</a></span>&nbsp;<span class=post-category></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2024-02-19>2024-02-19</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span></span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#å‘ç”Ÿäº†ä»€ä¹ˆ><strong>å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</strong></a></li><li><a href=#å¼€æ><strong>å¼€æ</strong></a><ul><li><a href=#1-ä»ç¼–è¯‘å™¨è¯´èµ·-å¯é€‰><strong>1. ä»ç¼–è¯‘å™¨è¯´èµ· (å¯é€‰)</strong></a></li><li><a href=#2-æ¥ä¸€ä»½glibc><strong>2. æ¥ä¸€ä»½Glibc</strong></a></li><li><a href=#3-æ¥ä¸€ä»½node><strong>3. æ¥ä¸€ä»½node</strong></a></li><li><a href=#4-patchä¸€ä¸‹><strong>4. patchä¸€ä¸‹</strong></a></li><li><a href=#5-æ›¿æ¢åˆ°vscode><strong>5. æ›¿æ¢åˆ°VSCode</strong></a></li></ul></li></ul></nav></div></div><div class=content id=content><h2 id=å‘ç”Ÿäº†ä»€ä¹ˆ><strong>å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</strong></h2><p>åœ¨VSCodeæœ€è¿‘çš„ä¸€æ¬¡æ›´æ–°ä¸­ï¼Œæå‡è¿œç¨‹å¼€å‘ä½¿ç”¨çš„<code>node</code>ç‰ˆæœ¬ï¼Œæ›´æ–°åçš„<code>node</code>ä¾èµ–<code>glibc>=2.28</code>ã€‚</p><p>åœ¨å‡çº§1.86ç‰ˆæœ¬åï¼Œå¦‚æœå°è¯•è¿æ¥glibc 2.28ä»¥ä¸‹ç‰ˆæœ¬çš„å¼€å‘æœºï¼Œä¼šæç¤ºè¿æ¥åˆ°ä¸å—æ”¯æŒçš„OSç‰ˆæœ¬ã€‚</p><p><img class=lazyload src=/svg/loading.min.svg data-src=assets/%e8%bf%9e%e6%8e%a5%e5%a4%b1%e8%b4%a5%e6%8f%90%e7%a4%ba.png data-srcset="/posts/vscode%E5%8D%87%E7%BA%A71.86%E5%90%8E%E6%8F%90%E7%A4%BA%E4%BD%A0%E5%B7%B2%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%B8%8D%E5%8F%97visual-studio-code%E6%94%AF%E6%8C%81%E7%9A%84os%E7%89%88%E6%9C%AC/assets/%E8%BF%9E%E6%8E%A5%E5%A4%B1%E8%B4%A5%E6%8F%90%E7%A4%BA.png, assets/%e8%bf%9e%e6%8e%a5%e5%a4%b1%e8%b4%a5%e6%8f%90%e7%a4%ba.png 1.5x, /posts/vscode%E5%8D%87%E7%BA%A71.86%E5%90%8E%E6%8F%90%E7%A4%BA%E4%BD%A0%E5%B7%B2%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%B8%8D%E5%8F%97visual-studio-code%E6%94%AF%E6%8C%81%E7%9A%84os%E7%89%88%E6%9C%AC/assets/%E8%BF%9E%E6%8E%A5%E5%A4%B1%E8%B4%A5%E6%8F%90%E7%A4%BA.png 2x" data-sizes=auto alt=/posts/vscode%E5%8D%87%E7%BA%A71.86%E5%90%8E%E6%8F%90%E7%A4%BA%E4%BD%A0%E5%B7%B2%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%B8%8D%E5%8F%97visual-studio-code%E6%94%AF%E6%8C%81%E7%9A%84os%E7%89%88%E6%9C%AC/assets/%E8%BF%9E%E6%8E%A5%E5%A4%B1%E8%B4%A5%E6%8F%90%E7%A4%BA.png title=è¿æ¥å¤±è´¥æç¤º></p><p>æŒ‰ç…§å®˜æ–¹çš„<a href=https://code.visualstudio.com/docs/remote/linux#_remote-host-container-wsl-linux-prerequisites target=_blank rel="noopener noreffer">è¦æ±‚</a>ã€‚æœ€å¥½çš„è§£å†³æ–¹æ¡ˆè‡ªç„¶æ˜¯å‡çº§åˆ°æ›´æ–°çš„glibcç‰ˆæœ¬ï¼Œè¿™ä¹Ÿæ„å‘³ç€éœ€è¦ä½¿ç”¨æ›´æ–°çš„ç³»ç»Ÿç‰ˆæœ¬ã€‚åœ¨ç¤¾åŒºçš„<a href=https://github.com/microsoft/vscode/issues/203967 target=_blank rel="noopener noreffer">çƒ­çƒˆè®¨è®º</a>ä¸‹ï¼ŒVSCodeé¡¹ç›®ç»„æœ€ç»ˆå¯¹äºæ—§glibcå»¶é•¿é¢å¤–æ”¯æŒ12ä¸ªæœˆã€‚ä½†æ–°ç‰ˆæœ¬è¿æ¥åˆ°æ—§glibcæœåŠ¡å™¨åï¼Œä»ç„¶ä¼šæœ‰ä¸€è¡Œé†’ç›®çš„æç¤ºï¼š</p><p><img class=lazyload src=/svg/loading.min.svg data-src=assets/%e5%a4%b4%e9%83%a8%e8%ad%a6%e5%91%8a.png data-srcset="/posts/vscode%E5%8D%87%E7%BA%A71.86%E5%90%8E%E6%8F%90%E7%A4%BA%E4%BD%A0%E5%B7%B2%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%B8%8D%E5%8F%97visual-studio-code%E6%94%AF%E6%8C%81%E7%9A%84os%E7%89%88%E6%9C%AC/assets/%E5%A4%B4%E9%83%A8%E8%AD%A6%E5%91%8A.png, assets/%e5%a4%b4%e9%83%a8%e8%ad%a6%e5%91%8a.png 1.5x, /posts/vscode%E5%8D%87%E7%BA%A71.86%E5%90%8E%E6%8F%90%E7%A4%BA%E4%BD%A0%E5%B7%B2%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%B8%8D%E5%8F%97visual-studio-code%E6%94%AF%E6%8C%81%E7%9A%84os%E7%89%88%E6%9C%AC/assets/%E5%A4%B4%E9%83%A8%E8%AD%A6%E5%91%8A.png 2x" data-sizes=auto alt=/posts/vscode%E5%8D%87%E7%BA%A71.86%E5%90%8E%E6%8F%90%E7%A4%BA%E4%BD%A0%E5%B7%B2%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%B8%8D%E5%8F%97visual-studio-code%E6%94%AF%E6%8C%81%E7%9A%84os%E7%89%88%E6%9C%AC/assets/%E5%A4%B4%E9%83%A8%E8%AD%A6%E5%91%8A.png title=å¤´éƒ¨è­¦å‘Š></p><p>æœ¬æ–‡æä¾›ä¸€ç§æç«¯æ‰‹åŠ¨çš„æ–¹æ³•ï¼ˆæœ¬æ¥æ˜¯ç»™å¼€å‘ç¯å¢ƒçš„dockerfileä½¿ç”¨ï¼‰ï¼Œå³æ‰‹åŠ¨ç¼–è¯‘ä¸€ä»½glibcå’Œnodeï¼Œä»¥ä¸“ä¾›VSCodeçš„è¿œç«¯æœåŠ¡å™¨ä½¿ç”¨ã€‚</p><h2 id=å¼€æ><strong>å¼€æ</strong></h2><h3 id=1-ä»ç¼–è¯‘å™¨è¯´èµ·-å¯é€‰><strong>1. ä»ç¼–è¯‘å™¨è¯´èµ· (å¯é€‰)</strong></h3><p>ä»<a href=https://github.com/nodejs/node/blob/main/BUILDING.md target=_blank rel="noopener noreffer">æ–‡æ¡£</a>æ¥çœ‹ï¼Œnodeç°åœ¨å·²ç»è¦æ±‚åˆ°äº†GCC 10ï¼Œæˆ‘ä»¬çš„ç¯å¢ƒå¾ˆæœ‰å¯èƒ½æ²¡å‡†å¤‡ã€‚ï¼ˆå¦‚æœä½ çš„ç¯å¢ƒå·²ç»æœ‰ä¸€ä»½æ¯”è¾ƒé«˜ç‰ˆæœ¬çš„ç¼–è¯‘å™¨ï¼Œå¯ä»¥è·³è¿‡è¿™é‡Œå•¦ï¼‰</p><p>è¿™é‡Œå‡†å¤‡äº†ä¸€ä»½è´´è´´å¿ƒçš„å®‰è£…è„šæœ¬ï¼Œ<strong>ä»¥é˜²ä½ çœŸçš„æ²¡æœ‰æ›´æ–°çš„GCC</strong>ã€‚ä¸ºäº†é¿å…æåä½ çš„ç¯å¢ƒï¼Œå®ƒåªä¼šåœ¨<code>/usr/local/bin</code>ä¸‹å»ºç«‹<code>gcc-12</code>å’Œ<code>g++-12</code>ï¼Œè€Œä¸ä¼šè¦†ç›–æ‰é»˜è®¤çš„<code>gcc</code>ï¼Œ<code>g++</code>å‘½ä»¤ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ç¼–è¯‘ä¸€ä»½GCC, å‚è€ƒæ—¶é—´åŠä¸ªé’Ÿ, é…ç½®å¥½çš„æœºå™¨è¯·è‡ªè¡ŒæŒ‰ç…§CPUæ ¸å¿ƒæ•°é…Œæƒ…ä¿®æ”¹make -jN</span>
</span></span><span class=line><span class=cl>curl -OL <span class=s2>&#34;https://ftp.gnu.org/gnu/gcc/gcc-12.2.0/gcc-12.2.0.tar.gz&#34;</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> tar -zxvf gcc-12.2.0.tar.gz <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>pushd</span> gcc-12.2.0 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> ./configure --prefix<span class=o>=</span>/usr/local/gcc-12.2.0 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> make -j8 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> make install <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> ln -s /usr/local/gcc-12.2.0/bin/gcc /usr/bin/gcc-12 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> ln -s /usr/local/gcc-12.2.0/bin/g++ /usr/bin/g++-12 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>popd</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> rm -r gcc-12.2.0.tar.gz gcc-12.2.0
</span></span></code></pre></div><p>ç¼–è¯‘äº†ä»¥åè®°å¾—æŠŠ<code>LD_LIBRARY_PATH</code>åŠ ä¸Š:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>LD_LIBRARY_PATH</span><span class=o>=</span><span class=si>${</span><span class=nv>LD_LIBRARY_PATH</span><span class=si>}</span>:/usr/local/gcc-12.2.0/lib64
</span></span></code></pre></div><h3 id=2-æ¥ä¸€ä»½glibc><strong>2. æ¥ä¸€ä»½Glibc</strong></h3><p>è¿™é‡Œæˆ‘é€‰æ‹©ç¼–è¯‘glibc 2.30ï¼Œglibcéœ€è¦æ›´æ–°ä¸€äº›çš„binutilså’Œmakeï¼Œé‚ç¼–è¯‘ä¹‹ã€‚</p><p>æŒ‰ç…§ä¸Šæ–‡ï¼Œæ­¤å¤„æˆ‘ä½¿ç”¨äº†ä¸€ä»½æ‰‹åŠ¨ç¼–è¯‘çš„ï¼Œè¾ƒæ–°ç‰ˆæœ¬çš„gccç¼–è¯‘å™¨ï¼Œå¦‚æœä½ çš„ç‰ˆæœ¬å·²ç»è¶³å¤Ÿæ”¯æŒï¼Œå¯ä»¥ä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®š<code>CC</code>å’Œ<code>CXX</code>ç¯å¢ƒå˜é‡</p><blockquote><p>å› ä¸ºæ˜¯ä»Dockerfileé‡ŒæŠ å‡ºæ¥çš„ï¼Œæœ‰ä¸€äº›é‡å¤çš„exportï¼Œä¹Ÿæ–¹ä¾¿å„ä½èŠ‚é€‰äº†ğŸ™</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ç¼–è¯‘binutilsï¼Œå‚è€ƒæ—¶é—´å°äº5åˆ†é’Ÿ</span>
</span></span><span class=line><span class=cl>curl -OL <span class=s2>&#34;https://ftp.gnu.org/gnu/binutils/binutils-2.34.tar.gz&#34;</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> tar -zxvf binutils-2.34.tar.gz <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>pushd</span> binutils-2.34 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>CC</span><span class=o>=</span>/usr/bin/gcc-12 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>CXX</span><span class=o>=</span>/usr/bin/g++-12 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> ./configure --prefix<span class=o>=</span>/usr/local/binutils-2.34 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> make -j8 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> make install <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>popd</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> rm -r binutils-2.34 binutils-2.34.tar.gz
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç¼–è¯‘makeï¼Œå‚è€ƒæ—¶é—´å°äº5åˆ†é’Ÿã€‚</span>
</span></span><span class=line><span class=cl>curl -OL <span class=s2>&#34;https://ftp.gnu.org/gnu/make/make-4.1.tar.gz&#34;</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> tar -zxvf make-4.1.tar.gz <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>pushd</span> make-4.1 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>CC</span><span class=o>=</span>/usr/bin/gcc-12 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>CXX</span><span class=o>=</span>/usr/bin/g++-12 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span>/usr/local/binutils-2.34/bin:<span class=nv>$PATH</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> ./configure --prefix<span class=o>=</span>/usr/local/make-4.1 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> make -j8 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> make install <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> ln -sf /usr/local/make-4.1/bin/make /usr/local/make-4.1/bin/gmake <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>popd</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> rm -r make-4.1 make-4.1.tar.gz
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç¼–è¯‘glibcï¼Œå‚è€ƒæ—¶é—´å°äº10åˆ†é’Ÿ</span>
</span></span><span class=line><span class=cl>curl -OL <span class=s2>&#34;https://ftp.gnu.org/gnu/glibc/glibc-2.30.tar.gz&#34;</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> tar -zxvf glibc-2.30.tar.gz <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>pushd</span> glibc-2.30 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> mkdir -p build <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>pushd</span> build <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>CC</span><span class=o>=</span>/usr/bin/gcc-12 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>CXX</span><span class=o>=</span>/usr/bin/g++-12 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span>/usr/local/binutils-2.34/bin:/usr/local/make-4.1/bin:<span class=nv>$PATH</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>LD_LIBRARY_PATH</span><span class=o>=</span>/usr/local/gcc-12.2.0/lib64:/usr/local/gcc-12.2.0/lib64 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>CXXFLAGS</span><span class=o>=</span><span class=s2>&#34;-g -O2 -Wno-array-parameter&#34;</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>CFLAGS</span><span class=o>=</span><span class=s2>&#34;-g -O2 -Wno-array-parameter&#34;</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> ../configure --prefix<span class=o>=</span>/usr/local/glibc-2.30 --disable-werror <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> make -j8 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> make install <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>popd</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>popd</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> rm -r glibc-2.30 glibc-2.30.tar.gz
</span></span></code></pre></div><h3 id=3-æ¥ä¸€ä»½node><strong>3. æ¥ä¸€ä»½node</strong></h3><p>è¿™é‡Œé€‰æ‹©äº†v18.19ï¼Œç›´æ¥å¼€ç¼–å§ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ç¼–è¯‘nodeï¼Œå‚è€ƒæ—¶é—´20åˆ†é’Ÿ</span>
</span></span><span class=line><span class=cl>git clone --depth<span class=o>=</span><span class=m>1</span> -b v18.19.0 https://github.com/nodejs/node.git <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>pushd</span> node <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>CC</span><span class=o>=</span>/usr/bin/gcc-12 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>CXX</span><span class=o>=</span>/usr/bin/g++-12 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span>/usr/local/binutils-2.34/bin:/usr/local/make-4.1/bin:<span class=nv>$PATH</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> ./configure --prefix<span class=o>=</span>/usr/local/node-18.19 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> make -j8 <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> make install <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> <span class=nb>popd</span> <span class=se>\ </span>
</span></span><span class=line><span class=cl>    <span class=o>&amp;&amp;</span> rm -r node
</span></span></code></pre></div><h3 id=4-patchä¸€ä¸‹><strong>4. patchä¸€ä¸‹</strong></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ä»¥é˜²ä½ çœŸçš„æ²¡æœ‰patchelf</span>
</span></span><span class=line><span class=cl>yum install patchelf
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># è¿™é‡Œä¸åŒç¯å¢ƒå…·ä½“æ–‡ä»¶åå¯èƒ½ä¸åŒï¼Œä½†è·¯å¾„åŸºæœ¬ä¸€è‡´ï¼Œè¯·æŒ‰å®é™…æƒ…å†µä¿®æ”¹</span>
</span></span><span class=line><span class=cl>patchelf --set-interpreter /usr/local/glibc-2.30/lib/ld-linux-x86-64.so.2 <span class=se>\ </span>
</span></span><span class=line><span class=cl>         --set-rpath /usr/local/glibc-2.30/lib/:/lib/x86_64-redhat-linux6E/:/usr/lib/x86_64-redhat-linux6E <span class=se>\ </span>
</span></span><span class=line><span class=cl>         /usr/local/node-18.19/bin/node
</span></span></code></pre></div><h3 id=5-æ›¿æ¢åˆ°vscode><strong>5. æ›¿æ¢åˆ°VSCode</strong></h3><p>åœ¨<code>~/.vscode-server/bin/{id}</code>ä¸­å­˜å‚¨äº†VSCodeè‡ªå¸¦çš„nodeå®ä¾‹ï¼Œè¿™é‡Œç®€å•æ›¿æ¢ä¸‹ï¼Œå¯ä»¥å°†ä¸‹é¢çš„å†…å®¹ä¿å­˜åˆ°<code>.sh</code>è„šæœ¬è¿è¡Œï¼ˆè®°å¾—æ›¿æ¢æˆè‡ªå·±çš„è·¯å¾„ï¼‰ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/sh
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># è®°å¾—æ›¿æ¢æˆè‡ªå·±çš„è·¯å¾„</span>
</span></span><span class=line><span class=cl><span class=nv>binary_base</span><span class=o>=</span><span class=s2>&#34;/root/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>replace_base</span><span class=o>=</span><span class=s2>&#34;/usr/local/node-18.19&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>mv <span class=s2>&#34;</span><span class=nv>$binary_base</span><span class=s2>/node&#34;</span> <span class=s2>&#34;</span><span class=nv>$binary_base</span><span class=s2>/node.bak&#34;</span>
</span></span><span class=line><span class=cl>ln -sf <span class=s2>&#34;</span><span class=nv>$replace_base</span><span class=s2>/bin/node&#34;</span> <span class=s2>&#34;</span><span class=nv>$binary_base</span><span class=s2>/node&#34;</span>
</span></span></code></pre></div><p>æ¥ç€ï¼Œkillæ‰VSCodeæ‰€åœ¨çš„è¿›ç¨‹ï¼Œæˆ–ç›´æ¥é‡å¯æœºå™¨ï¼Œå†é‡æ–°è¿æ¥å°±å®Œæˆäº†ã€‚</p><p>æˆ–è€…ä½¿ç”¨ä¸‹é¢è¿™ä¸ªè„šæœ¬ï¼Œä¸€é”®æ›¿æ¢æœºå™¨ä¸Šæ‰€æœ‰VSCodeå®ä¾‹:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/sh
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># upgrade vscode&#39;s node binary to v18</span>
</span></span><span class=line><span class=cl><span class=k>function</span> _internal_replace_binary<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>binary_base</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nv>replace_base</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$2</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    mv <span class=s2>&#34;</span><span class=nv>$binary_base</span><span class=s2>/node&#34;</span> <span class=s2>&#34;</span><span class=nv>$binary_base</span><span class=s2>/node.bak&#34;</span>
</span></span><span class=line><span class=cl>    ln -sf <span class=s2>&#34;</span><span class=nv>$replace_base</span><span class=s2>/bin/node&#34;</span> <span class=s2>&#34;</span><span class=nv>$binary_base</span><span class=s2>/node&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;âœ… å‡çº§æˆåŠŸ: </span><span class=nv>$binary_base</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span> _internal_replace_all_vscode_server<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>replace_base</span><span class=o>=</span><span class=s2>&#34;/usr/local/node-18.19&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[</span> ! -f <span class=s2>&#34;</span><span class=nv>$replace_base</span><span class=s2>/bin/node&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;â: é•œåƒæ–‡ä»¶ç¼ºå¤± (</span><span class=nv>$replace_base</span><span class=s2>/bin/node)&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> dir in <span class=k>$(</span>find ~/.vscode-server/bin -maxdepth <span class=m>1</span> -mindepth <span class=m>1</span> -type d<span class=k>)</span>
</span></span><span class=line><span class=cl>    <span class=k>do</span>
</span></span><span class=line><span class=cl>        _internal_replace_binary <span class=nv>$dir</span> <span class=nv>$replace_base</span>
</span></span><span class=line><span class=cl>    <span class=k>done</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;âœ… å…¨éƒ¨å®Œæˆ: è¯·é‡è¿ VSCode æˆ–é‡å¯è®¾å¤‡&#34;</span>
</span></span><span class=line><span class=cl>    ps -ef <span class=p>|</span> grep <span class=s2>&#34;\.vscode-server/bin&#34;</span> <span class=p>|</span> grep node <span class=p>|</span> awk <span class=s1>&#39;{print($2)}&#39;</span> <span class=p>|</span> xargs -i <span class=nb>kill</span> <span class=o>{}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>_internal_replace_all_vscode_server
</span></span></code></pre></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span></span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()></a></span>&nbsp;|&nbsp;<span><a href=/></a></span></section></div><div class=post-nav><a href=/posts/%E7%BA%A2%E9%BB%91%E6%A0%91%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/ class=prev rel=prev title=çº¢é»‘æ ‘åŸºç¡€æ“ä½œ><i class="fas fa-angle-left fa-fw"></i>çº¢é»‘æ ‘åŸºç¡€æ“ä½œ</a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2024</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank></a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"",maxShownLines:10},comment:{},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>